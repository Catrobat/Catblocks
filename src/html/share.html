<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Catblocks Share</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
</head>

<body>
    <div id='catblocks-code-container'>
</body>
<script>
    // we get those values from the share
    const progPath = 'assets/testprog/';
    const progLang = 'en_GB';

    // share get exported by the bundle
    share.init({
        'container': 'catblocks-code-container',
        'renderSize': 0.75,
        'language': progLang,
        'shareRoot': '/',
        'media': 'media/',
        'noImageFound': 'No_Image_Available.jpg',
    });

    // render my code.xml file
    window.onload = function() {
        share.parser.parseFile(`assets/testprog/code.xml`)
            .then(xmlDoc => {
                console.log(xmlDoc);
                const div = document.getElementById('catblocks-code-container');
                share.injectAllScenes(div, xmlDoc, {
                    object: {
                        programRoot: `assets/testprog/`
                    }
                });
            })
            .catch(err => {
                console.error(`Failed to parse catroid file.`);
                console.error(err);
            });

    };
</script>

</html>