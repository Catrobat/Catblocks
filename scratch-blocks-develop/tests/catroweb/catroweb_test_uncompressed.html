<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <title>Catroweb test</title>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <!-- <script src='./../../dist/web/vertical.js'></script> -->

  <script src="../../blockly_uncompressed_vertical.js"></script>
  <script src="../../msg/catblocks_msgs.js"></script>
  <script src="../../blocks_vertical/vertical_extensions.js"></script>
  <script src="../../blocks_common/math.js"></script>
  <script src="../../blocks_common/matrix.js"></script>
  <script src="../../blocks_common/note.js"></script>
  <script src="../../blocks_common/text.js"></script>
  <script src="../../blocks_common/colour.js"></script>
  <script src="../../blocks_vertical/control.js"></script>
  <script src="../../blocks_vertical/event.js"></script>
  <script src="../../blocks_vertical/motion.js"></script>
  <script src="../../blocks_vertical/looks.js"></script>
  <script src="../../blocks_vertical/procedures.js"></script>
  <script src="../../blocks_vertical/pen.js"></script>
  <script src="../../blocks_vertical/sound.js"></script>
  <script src="../../blocks_vertical/sensing.js"></script>
  <script src="../../blocks_vertical/data.js"></script>
  <script src="../../blocks_vertical/extensions.js"></script>
  <script src="../../blocks_vertical/default_toolbox.js"></script>

  <script>
    function openSceneContainer(event) {
      const sceneContainer = document.getElementById('catblocks-scene-container');
      sceneContainer.style.display = sceneContainer.style.display === 'none' ? 'block' : 'none';
    }
  </script>
</head>

<body>
  <div id='show-code' onclick="openSceneContainer()">
    SHOW CODE
  </div>
  <div id='catblocks-code-container'>
  </div>
  </div>

  <script>

    // INFO: get the divs
    const workspaceDiv = document.getElementById('catblocks-code-container');
    Blockly.Web.initBlockly('en_GB', { 'container': workspaceDiv, 'blockScale': 0.75 });

    fetch('http://localhost:8080/scratch-blocks-develop/tests/catroweb/catblocks_large.xml')
      .then(stream => stream.text())
      .then(string => {
        Blockly.Web.injectAllScenes(workspaceDiv, string);
      });

  </script>

</body>

</html>